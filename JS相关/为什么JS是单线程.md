# 为什么JS是单线程

因为 JS 设计之初是为了处理页面中用户的交互，操作DOM树、CSS样式树。

如果 JS 是多线程的方式来操作这些 DOM，则可能会出现UI操作的冲突
如果 JS 是多线程的话，在多线程的交互下，处于UI中的DOM节点就可能称为一个临界资源，
假设存在两个线程同事操作一个DOM，分别负责DOM的修改和删除，这个就需要浏览器来裁决如何生效哪个线程的执行结果。当然可以通过锁来解决这个问题，但是避免锁带来更大的复杂性，JS就选择了单线程执行。

## 线程和进程
+ 进程：是CPU资源分配的最小单位
+ 线程：是CPU调度的最小单位

一个任务就是一个进程。一个任务可以分为多个子任务，这些子任务可以称之为线程

## Event Loop
+ 宏任务：script全部代码，setTimeout、setInterval、setImmediate、I/O、UI Rendering
+ 微任务：Promise、
浏览器的Event Loop分为`main thread`主线程和`call-stack`调用栈
同步任务 --> 微任务 --> 宏任务